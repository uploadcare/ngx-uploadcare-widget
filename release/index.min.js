!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/common"),require("@angular/core"),require("uploadcare-widget")):"function"==typeof define&&define.amd?define("ngx-uploadcare-widget",["@angular/common","@angular/core","uploadcare-widget"],t):"object"==typeof exports?exports["ngx-uploadcare-widget"]=t(require("@angular/common"),require("@angular/core"),require("uploadcare-widget")):e["ngx-uploadcare-widget"]=t(e["@angular/common"],e["@angular/core"],e["uploadcare-widget"])}("undefined"!=typeof self?self:this,function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/index.ts")}({"./package.json":function(e,t){e.exports={name:"ngx-uploadcare-widget",version:"1.1.0",description:"Angular 2+ wrapper for Uploadcare Widget",main:"release/index.js",typings:"release/index.d.ts",scripts:{check:"npm-check --skip-unused",test:"npm run lint && karma start","test:watch":"npm run test -- --auto-watch --no-single-run","watch:test":"npm run test -- --auto-watch --no-single-run",lint:"tslint --project tsconfig.json --config tslint.json",version:"npm run package",preversion:"npm test",clean:"npm-run-all -p clean:*","clean:build":"rimraf build","clean:dist":"rimraf dist","clean:release":"rimraf release",build:"webpack --display-error-details","build:release":"cross-env NODE_ENV=production npm run build","build:package":"cross-env NODE_ENV=package npm run build","build:ts":"tsc","build:aot":"ngc","build:sass":"node-sass -r build/ -o build/","build:css":"postcss --use autoprefixer dist/*.css -d dist/","copy:build":'cpx "src/**/*" build',"copy:styles":'cpx "build/**/*.css" release',watch:"webpack --display-error-details --watch",start:"webpack-dev-server","start:host":"webpack-dev-server --host 0.0.0.0","start:hmr":"webpack-dev-server --env.HMR",release:"npm-run-all build:release",package:"npm-run-all -s clean copy:build package:aot build:package package:minify clean:build","package:ts":"tsc --outDir release","package:aot":"ngc -p tsconfig-aot.json","package:replace-scss":"node ./config/replace-scss.js","package:minify":"uglifyjs release/index.js --source-map --compress --mangle --screw-ie8 --output release/index.min.js",profile:"NODE_ENV=production webpack --profile --json > dist/stats.json"},repository:{type:"git",url:"git+https://github.com/uploadcare/ngx-uploadcare-widget.git"},keywords:["angular","ngx","uploadcare","widget","uploader","filepicker","dialog","upload","store","file","files","image","images"],authors:["Nikolay Zherdev"],license:"MIT",bugs:{url:"https://github.com/uploadcare/ngx-uploadcare-widget/issues"},homepage:"https://github.com/uploadcare/ngx-uploadcare-widget#readme",peerDependencies:{"@angular/common":"5.x","@angular/core":"5.x","@angular/animations":"5.x","@angular/platform-browser":"5.x",rxjs:"5.x"},devDependencies:{"@angular/animations":"^5.2.10","@angular/common":"^5.2.10","@angular/compiler":"^5.2.10","@angular/compiler-cli":"^5.2.10","@angular/core":"^5.2.10","@angular/forms":"^5.2.10","@angular/http":"^5.2.10","@angular/platform-browser":"^5.2.10","@angular/platform-browser-dynamic":"^5.2.10","@angular/platform-server":"^5.2.10","@swimlane/ngx-ui":"^19.2.0","@types/jasmine":"^2.8.6","@types/node":"^8.5.10","angular2-prettyjson":"^3.0.1","angular2-template-loader":"^0.6.0",autoprefixer:"^7.2.5","awesome-typescript-loader":"^3.2.3",bootstrap:"^4.0.0","clean-webpack-plugin":"^0.1.18",codelyzer:"^3.0.0-beta.4","copy-webpack-plugin":"^4.0.0","core-js":"^2.5.1",cpx:"^1.5.0","cross-env":"^5.0.5","css-loader":"^0.28.9","emoji-flags":"^1.2.0","extract-text-webpack-plugin":"2.0.0-beta.4","file-loader":"^0.11.2",flexboxgrid:"^6.3.1","fs-extra":"^4.0.1","gh-pages":"^1.0.0","html-loader":"^0.5.5","html-webpack-plugin":"^2.26.0","istanbul-instrumenter-loader":"^3.0.0","jasmine-core":"^2.99.0",jquery:"^3.3.1",karma:"^1.7.1","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.1.0","karma-mocha-reporter":"^2.2.4","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^2.0.1","node-sass":"^4.3.0","npm-run-all":"^4.1.1","popper.js":"^1.13.0",postcss:"^5.2.11","postcss-loader":"^1.2.2","raw-loader":"^0.5.1",replace:"^0.3.0",rimraf:"^2.5.2",rxjs:"^5.5.2","sass-loader":"^6.0.3","source-map-loader":"^0.2.0","style-loader":"^0.18.2","to-string-loader":"^1.1.5","ts-helpers":"1.1.2",tslint:"^5.9.1","tslint-config-swimlane":"^3.0.3","tslint-loader":"^3.3.0",typescript:"^2.7.2","uglify-js":"^3.3.9","url-loader":"^0.5.7","web-animations-js":"^2.2.2",webpack:"^3.5.6","webpack-combine-loaders":"^2.0.3","webpack-dev-server":"^2.11.1","webpack-merge":"^4.1.0","webpack-notifier":"^1.5.1","zone.js":"^0.8.20"},dependencies:{"@angular/core":"^5.2.10","@angular/platform-browser":"^5.2.10","uploadcare-widget":"3.x"}}},"./src/index.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/ucWidget.module.ts");i.d(t,"UcWidgetModule",function(){return n.a});var r=i("./src/ucWidget/ucWidget.component.ts");i.d(t,"UcWidgetComponent",function(){return r.a});var o=i("./src/ucWidgetCustom/ucWidgetCustom.component.ts");i.d(t,"UcWidgetCustomComponent",function(){return o.a})},"./src/ucWidget.module.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("@angular/core"),r=(i.n(n),i("./src/ucWidget/ucWidget.component.ts")),o=i("./src/ucWidgetCustom/ucWidgetCustom.component.ts"),s=i("@angular/common"),p=(i.n(s),this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}),a=function(){function e(){}return t=e,e.forRoot=function(){return{ngModule:t,providers:[]}},e=t=p([Object(n.NgModule)({declarations:[r.a,o.a],imports:[s.CommonModule],exports:[r.a,o.a]})],e);var t}()},"./src/ucWidget/ucWidget.component.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("@angular/core"),r=(i.n(n),i("uploadcare-widget")),o=i.n(r),s=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=i("./package.json"),u=JSON.stringify(a.version);o.a.start({integration:"Angular/"+n.VERSION.full+"; Ngx-Uploadcare-Widget/"+u});var l=function(){function e(e,t){this.onUploadComplete=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onProgress=new n.EventEmitter,this._publicKey="demopublickey",this._value=null,this._cdnBase=null,this._reinitRequired=!1,this._isClearValue=!1,this.element=t,this.renderer=e}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){this._publicKey=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMax",{get:function(){return this._multipleMax},set:function(e){this._multipleMax=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMin",{get:function(){return this._multipleMin},set:function(e){this._multipleMin=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesOnly",{get:function(){return this._imagesOnly},set:function(e){this._imagesOnly=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewStep",{get:function(){return this._previewStep},set:function(e){this._previewStep=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crop",{get:function(){return this._crop},set:function(e){this._crop=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageShrink",{get:function(){return this._imageShrink},set:function(e){this._imageShrink=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearable",{get:function(){return this._clearable},set:function(e){this._clearable=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabs",{get:function(){return this._tabs},set:function(e){this._tabs=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputAcceptTypes",{get:function(){return this._inputAcceptTypes},set:function(e){this._inputAcceptTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preferredTypes",{get:function(){return this._preferredTypes},set:function(e){this._preferredTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemDialog",{get:function(){return this._systemDialog},set:function(e){this._systemDialog=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureSignature",{get:function(){return this._secureSignature},set:function(e){this._secureSignature=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureExpire",{get:function(){return this._secureExpire},set:function(e){this._secureExpire=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.widget&&(this.setReinitFlag(!1),this.widget.value(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cdnBase",{get:function(){return this._cdnBase},set:function(e){this._cdnBase=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doNotStore",{get:function(){return this._doNotStore},set:function(e){this._doNotStore=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.widget=this.init()},e.prototype.ngAfterViewChecked=function(){this._reinitRequired&&this.reset(this._isClearValue)},e.prototype.reset=function(e){void 0===e&&(e=!1),this.destroy(),this.widget=this.init(e),this._reinitRequired=!1,this._isClearValue=!1},e.prototype.clearUploads=function(){this._value=null,this.widget&&this.widget.value(null)},e.prototype.openDialog=function(){this.widget&&this.widget.openDialog()},e.prototype.setReinitFlag=function(e){this.widget&&(this._reinitRequired=!0,this._isClearValue=e)},e.prototype.setInputAttr=function(e,t){t&&this.renderer.setAttribute(this.inputElement,e,t)},e.prototype.initInputElement=function(){this.setInputAttr("type","hidden"),this.setInputAttr("data-public-key",this._publicKey),this.setInputAttr("data-multiple",this._multiple),this.setInputAttr("data-multiple-max",this._multipleMax),this.setInputAttr("data-multiple-min",this._multipleMin),this.setInputAttr("data-images-only",this._imagesOnly),this.setInputAttr("data-preview-step",this._previewStep),this.setInputAttr("data-crop",this._crop),this.setInputAttr("data-image-shrink",this._imageShrink),this.setInputAttr("data-clearable",this._clearable),this.setInputAttr("data-tabs",this._tabs),this.setInputAttr("data-input-accept-types",this._inputAcceptTypes),this.setInputAttr("data-preferred-types",this._preferredTypes),this.setInputAttr("data-system-dialog",this._systemDialog),this.setInputAttr("data-secure-signature",this._secureSignature),this.setInputAttr("data-secure-expire",this._secureExpire),this.setInputAttr("data-cdn-base",this._cdnBase),this.setInputAttr("data-do-not-store",this._doNotStore),this._value&&this.renderer.setProperty(this.inputElement,"value",this._value)},e.prototype.init=function(e){var t=this;void 0===e&&(e=!1),this.inputElement=this.renderer.createElement("input"),this.renderer.appendChild(this.element.nativeElement,this.inputElement),e&&this.clearUploads(),this.initInputElement();var i=o.a.Widget(this.inputElement);return i.onUploadComplete(function(e){t.onUploadComplete.emit(e),t._value=e.uuid}),i.onChange(function(e){t.onChange.emit(e),"function"==typeof e.promise?e.promise().progress(function(e){t.onProgress.emit(e)}):e.progress(function(e){t.onProgress.emit(e)})}),i},e.prototype.destroy=function(){var e=o.a.jQuery;e(this.widget.inputElement.nextSibling).remove(),e(this.widget.inputElement).clone().appendTo(e(this.element.nativeElement)),e(this.widget.inputElement).remove(),this.renderer.destroyNode(this.inputElement),this.renderer.removeChild(this.element.nativeElement,this.element.nativeElement.children[0]),delete this.widget},s([Object(n.Output)("on-upload-complete"),p("design:type",Object)],e.prototype,"onUploadComplete",void 0),s([Object(n.Output)("on-change"),p("design:type",Object)],e.prototype,"onChange",void 0),s([Object(n.Output)("on-progress"),p("design:type",Object)],e.prototype,"onProgress",void 0),s([Object(n.Input)("public-key"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"publicKey",null),s([Object(n.Input)("multiple"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"multiple",null),s([Object(n.Input)("multiple-max"),p("design:type",Number),p("design:paramtypes",[Number])],e.prototype,"multipleMax",null),s([Object(n.Input)("multiple-min"),p("design:type",Number),p("design:paramtypes",[Number])],e.prototype,"multipleMin",null),s([Object(n.Input)("images-only"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"imagesOnly",null),s([Object(n.Input)("preview-step"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"previewStep",null),s([Object(n.Input)("crop"),p("design:type",Object),p("design:paramtypes",[Object])],e.prototype,"crop",null),s([Object(n.Input)("image-shrink"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"imageShrink",null),s([Object(n.Input)("clearable"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"clearable",null),s([Object(n.Input)("tabs"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"tabs",null),s([Object(n.Input)("input-accept-types"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"inputAcceptTypes",null),s([Object(n.Input)("preferred-types"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"preferredTypes",null),s([Object(n.Input)("system-dialog"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"systemDialog",null),s([Object(n.Input)("secure-signature"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"secureSignature",null),s([Object(n.Input)("secure-expire"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"secureExpire",null),s([Object(n.Input)("value"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"value",null),s([Object(n.Input)("cdn-base"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"cdnBase",null),s([Object(n.Input)("do-not-store"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"doNotStore",null),e=s([Object(n.Component)({selector:"ngx-uploadcare-widget",template:""}),p("design:paramtypes",[n.Renderer2,n.ElementRef])],e)}()},"./src/ucWidgetCustom/ucWidgetCustom.component.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("@angular/core"),r=(i.n(n),i("uploadcare-widget")),o=i.n(r),s=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=i("./package.json"),u=JSON.stringify(a.version);o.a.start({integration:"Angular/"+n.VERSION.full+"; Ngx-Uploadcare-Widget/"+u});var l=function(){function e(){this.onUploadComplete=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onProgress=new n.EventEmitter,this.publicKey="demopublickey"}return e.prototype.openDialog=function(){var e=this,t={publicKey:this.publicKey?this.publicKey:void 0,multiple:this.multiple,multipleMax:this.multipleMax,multipleMin:this.multipleMin,imagesOnly:this.imagesOnly,previewStep:this.previewStep,crop:this.crop?this.crop:void 0,imageShrink:this.imageShrink?this.imageShrink:void 0,clearable:this.clearable,tabs:this.tabs?this.tabs:void 0,inputAcceptTypes:this.inputAcceptTypes?this.inputAcceptTypes:void 0,preferredTypes:this.preferredTypes,systemDialog:this.systemDialog,secureSignature:this.secureSignature,secureExpire:this.secureExpire,value:this.value?this.value:void 0,cdnBase:this.cdnBase?this.cdnBase:void 0,doNotStore:this.doNotStore};o.a.openDialog(this.value,null,t).done(function(t){e.onChange.emit(t),"function"==typeof t.promise?t.promise().then(function(t){e.onUploadComplete.emit(t)}).progress(function(t){e.onProgress.emit(t)}):t.then(function(t){e.onUploadComplete.emit(t)}).progress(function(t){e.onProgress.emit(t)})})},s([Object(n.Output)("on-upload-complete"),p("design:type",Object)],e.prototype,"onUploadComplete",void 0),s([Object(n.Output)("on-change"),p("design:type",Object)],e.prototype,"onChange",void 0),s([Object(n.Output)("on-progress"),p("design:type",Object)],e.prototype,"onProgress",void 0),s([Object(n.Input)("public-key"),p("design:type",Object)],e.prototype,"publicKey",void 0),s([Object(n.Input)("multiple"),p("design:type",Boolean)],e.prototype,"multiple",void 0),s([Object(n.Input)("multiple-max"),p("design:type",Number)],e.prototype,"multipleMax",void 0),s([Object(n.Input)("multiple-min"),p("design:type",Number)],e.prototype,"multipleMin",void 0),s([Object(n.Input)("images-only"),p("design:type",Boolean)],e.prototype,"imagesOnly",void 0),s([Object(n.Input)("preview-step"),p("design:type",Boolean)],e.prototype,"previewStep",void 0),s([Object(n.Input)("crop"),p("design:type",Object)],e.prototype,"crop",void 0),s([Object(n.Input)("image-shrink"),p("design:type",String)],e.prototype,"imageShrink",void 0),s([Object(n.Input)("clearable"),p("design:type",Boolean)],e.prototype,"clearable",void 0),s([Object(n.Input)("tabs"),p("design:type",String)],e.prototype,"tabs",void 0),s([Object(n.Input)("input-accept-types"),p("design:type",String)],e.prototype,"inputAcceptTypes",void 0),s([Object(n.Input)("preferred-types"),p("design:type",String)],e.prototype,"preferredTypes",void 0),s([Object(n.Input)("system-dialog"),p("design:type",Boolean)],e.prototype,"systemDialog",void 0),s([Object(n.Input)("secure-signature"),p("design:type",String)],e.prototype,"secureSignature",void 0),s([Object(n.Input)("secure-expire"),p("design:type",String)],e.prototype,"secureExpire",void 0),s([Object(n.Input)("value"),p("design:type",String)],e.prototype,"value",void 0),s([Object(n.Input)("cdn-base"),p("design:type",String)],e.prototype,"cdnBase",void 0),s([Object(n.Input)("do-not-store"),p("design:type",Boolean)],e.prototype,"doNotStore",void 0),e=s([Object(n.Component)({selector:"ngx-uploadcare-widget-custom",template:""})],e)}()},"@angular/common":function(t,i){t.exports=e},"@angular/core":function(e,i){e.exports=t},"uploadcare-widget":function(e,t){e.exports=i}})});